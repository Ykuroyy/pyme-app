import pandas as pd
import os
import shutil
from datetime import datetime, timedelta
import numpy as np

EXTRA_TOOLS = [
    {
        "id": 31,
        "category": "ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†",
        "number": "31/100",
        "title": "PDFä¸€æ‹¬çµåˆ",
        "desc": "è¤‡æ•°ã®PDFãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•ã§1ã¤ã«çµåˆ",
        "how_to": "PyPDF2ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦ã€è¤‡æ•°ã®PDFãƒ•ã‚¡ã‚¤ãƒ«ã‚’1ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¾ã¨ã‚ã¾ã™ã€‚",
        "sample_code": "import os\\nfrom PyPDF2 import PdfMerger\\n\\nprint('=== PDFä¸€æ‹¬çµåˆã‚·ã‚¹ãƒ†ãƒ  ===')\\n\\npdf_files = ['file1.pdf', 'file2.pdf', 'file3.pdf']\\noutput_pdf = 'merged_output.pdf'\\n\\ntry:\\n    merger = PdfMerger()\\n    for pdf in pdf_files:\\n        if os.path.exists(pdf):\\n            merger.append(pdf)\\n            print(f'{pdf}ã‚’è¿½åŠ ã—ã¾ã—ãŸ')\\n    \\n    merger.write(output_pdf)\\n    merger.close()\\n    print(f'PDFçµåˆå®Œäº†ï¼å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«: {output_pdf}')\\nexcept Exception as e:\\n    print(f'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: {e}')",
        "libraries": "PyPDF2ã€osï¼ˆæ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼‰",
        "explanation": "è¤‡æ•°ã®PDFã‚’ä¸€æ‹¬ã§çµåˆã™ã‚‹ã“ã¨ã§ã€è³‡æ–™æ•´ç†ã‚„æå‡ºãŒåŠ¹ç‡åŒ–ã§ãã¾ã™ã€‚",
        "benefits": ["æ‰‹ä½œæ¥­ãŒä¸è¦", "ä¸€æ‹¬çµåˆ", "è³‡æ–™æ•´ç†ãŒç°¡å˜"],
        "time_required": "30åˆ†ã€œ1æ™‚é–“",
        "difficulty": "åˆç´š",
        "ai_prompt": "Pythonã§PDFä¸€æ‹¬çµåˆã®ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚PyPDF2ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦è¤‡æ•°ã®PDFãƒ•ã‚¡ã‚¤ãƒ«ã‚’1ã¤ã«ã¾ã¨ã‚ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ãã ã•ã„ã€‚åˆå¿ƒè€…ã§ã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†ã«ã‚³ãƒ¡ãƒ³ãƒˆã‚’è©³ã—ãæ›¸ã„ã¦ãã ã•ã„ã€‚"
    },
    {
        "id": 32,
        "category": "ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°åˆ†æ",
        "number": "32/100",
        "title": "SNSã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆåˆ†æ",
        "desc": "SNSæŠ•ç¨¿ã®ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆã‚’è‡ªå‹•åˆ†æ",
        "how_to": "SNSã®æŠ•ç¨¿ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æã—ã€ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç‡ã‚„ãƒªãƒ¼ãƒã‚’è¨ˆç®—ã—ã¾ã™ã€‚",
        "sample_code": "import pandas as pd\\nimport numpy as np\\nfrom datetime import datetime\\n\\nprint('=== SNSã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆåˆ†æã‚·ã‚¹ãƒ†ãƒ  ===')\\n\\n# SNSæŠ•ç¨¿ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚µãƒ³ãƒ—ãƒ«ï¼‰\\nsns_posts = pd.DataFrame({\\n    'æŠ•ç¨¿ID': ['POST001', 'POST002', 'POST003', 'POST004'],\\n    'æŠ•ç¨¿æ—¥': ['2024-07-20', '2024-07-21', '2024-07-22', '2024-07-23'],\\n    'ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ': ['Twitter', 'Instagram', 'Facebook', 'Twitter'],\\n    'æŠ•ç¨¿ã‚¿ã‚¤ãƒ—': ['ãƒ†ã‚­ã‚¹ãƒˆ', 'ç”»åƒ', 'å‹•ç”»', 'ãƒ†ã‚­ã‚¹ãƒˆ'],\\n    'ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼æ•°': [12500, 8200, 15800, 12800],\\n    'ã‚¤ãƒ³ãƒ—ãƒ¬ãƒƒã‚·ãƒ§ãƒ³': [15600, 12400, 22100, 9800],\\n    'ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆ': [892, 654, 1245, 445],\\n    'ã‚¯ãƒªãƒƒã‚¯': [156, 89, 287, 67]\\n})\\n\\n# ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆæŒ‡æ¨™è¨ˆç®—\\nsns_posts['ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç‡'] = (sns_posts['ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆ'] / sns_posts['ã‚¤ãƒ³ãƒ—ãƒ¬ãƒƒã‚·ãƒ§ãƒ³'] * 100).round(2)\\nsns_posts['ãƒªãƒ¼ãƒç‡'] = (sns_posts['ã‚¤ãƒ³ãƒ—ãƒ¬ãƒƒã‚·ãƒ§ãƒ³'] / sns_posts['ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼æ•°'] * 100).round(2)\\nsns_posts['CTR'] = (sns_posts['ã‚¯ãƒªãƒƒã‚¯'] / sns_posts['ã‚¤ãƒ³ãƒ—ãƒ¬ãƒƒã‚·ãƒ§ãƒ³'] * 100).round(2)\\n\\nprint('æŠ•ç¨¿ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚µãƒãƒªãƒ¼:')\\nprint(sns_posts.to_string(index=False))\\n\\nprint('\\n=== SNSã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆåˆ†æå®Œäº† ===')",
        "libraries": "pandasã€numpyã€datetimeï¼ˆæ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼‰",
        "explanation": "SNSæŠ•ç¨¿ã®ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç‡ã€ãƒªãƒ¼ãƒç‡ã€CTRãªã©ã‚’åˆ†æã—ã€æŠ•ç¨¿ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æœ€é©åŒ–ã—ã¾ã™ã€‚",
        "benefits": ["æŠ•ç¨¿åŠ¹æœã®å¯è¦–åŒ–", "ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æœ€é©åŒ–", "ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æˆ¦ç•¥ã®æ”¹å–„", "ROIã®å‘ä¸Š"],
        "time_required": "1-2æ™‚é–“",
        "difficulty": "ä¸­ç´š",
        "ai_prompt": "SNSã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆåˆ†æã‚·ã‚¹ãƒ†ãƒ ã®Pythonã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆç‡è¨ˆç®—ã€ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ¥åˆ†æã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—åˆ¥åˆ†æã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ææ¡ˆã‚’å«ã‚ã¦ãã ã•ã„ã€‚"
    },
    # ãƒ“ã‚¸ãƒã‚¹åˆ†æï¼ˆ8ãƒ„ãƒ¼ãƒ«ï¼‰
    {
        "id": 33,
        "category": "ãƒ“ã‚¸ãƒã‚¹åˆ†æ",
        "number": "33/100",
        "title": "å£²ä¸Šåˆ†æãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰",
        "desc": "å£²ä¸Šãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•åˆ†æã—ã¦ã‚°ãƒ©ãƒ•åŒ–",
        "how_to": "pandasã€matplotlibã€seabornã‚’ä½¿ã£ã¦å£²ä¸Šãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ã€æœˆåˆ¥ãƒ»å•†å“åˆ¥ãƒ»åœ°åŸŸåˆ¥ã®å£²ä¸Šæ¨ç§»ã‚’ã‚°ãƒ©ãƒ•åŒ–ã—ã¾ã™ã€‚",
        "sample_code": "import pandas as pd\\nimport matplotlib.pyplot as plt\\nimport seaborn as sns\\nfrom datetime import datetime\\n\\nprint('=== å£²ä¸Šåˆ†æãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ ===')\\n\\n# å£²ä¸Šãƒ‡ãƒ¼ã‚¿ï¼ˆã‚µãƒ³ãƒ—ãƒ«ï¼‰\\nsales_data = pd.DataFrame({\\n    'æ—¥ä»˜': pd.date_range('2024-01-01', periods=12, freq='M'),\\n    'å£²ä¸Š': [1000000, 1200000, 950000, 1300000, 1100000, 1450000, 1600000, 1380000, 1220000, 1500000, 1750000, 1900000],\\n    'å•†å“ã‚«ãƒ†ã‚´ãƒª': ['é›»å­æ©Ÿå™¨', 'å®¶å…·', 'è¡£é¡', 'é›»å­æ©Ÿå™¨', 'å®¶å…·', 'è¡£é¡', 'é›»å­æ©Ÿå™¨', 'å®¶å…·', 'è¡£é¡', 'é›»å­æ©Ÿå™¨', 'å®¶å…·', 'è¡£é¡'],\\n    'åœ°åŸŸ': ['æ±äº¬', 'å¤§é˜ª', 'åå¤å±‹', 'æ±äº¬', 'å¤§é˜ª', 'åå¤å±‹', 'æ±äº¬', 'å¤§é˜ª', 'åå¤å±‹', 'æ±äº¬', 'å¤§é˜ª', 'åå¤å±‹']\\n})\\n\\n# æœˆåˆ¥å£²ä¸Šæ¨ç§»\\nplt.figure(figsize=(12, 6))\\nplt.plot(sales_data['æ—¥ä»˜'], sales_data['å£²ä¸Š'], marker='o')\\nplt.title('æœˆåˆ¥å£²ä¸Šæ¨ç§»')\\nplt.xlabel('æœˆ')\\nplt.ylabel('å£²ä¸Šï¼ˆå††ï¼‰')\\nplt.xticks(rotation=45)\\nplt.tight_layout()\\nplt.show()\\n\\n# å£²ä¸Šçµ±è¨ˆ\\nprint('\\nå£²ä¸Šçµ±è¨ˆ:')\\nprint(f'ç·å£²ä¸Š: {sales_data[\"å£²ä¸Š\"].sum():,}å††')\\nprint(f'å¹³å‡å£²ä¸Š: {sales_data[\"å£²ä¸Š\"].mean():,.0f}å††')\\nprint(f'æœ€é«˜å£²ä¸Š: {sales_data[\"å£²ä¸Š\"].max():,}å††')\\nprint(f'æœ€ä½å£²ä¸Š: {sales_data[\"å£²ä¸Š\"].min():,}å††')\\n\\nprint('\\n=== å£²ä¸Šåˆ†æå®Œäº† ===')",
        "libraries": "pandasã€matplotlibã€seabornã€datetime",
        "explanation": "å£²ä¸Šãƒ‡ãƒ¼ã‚¿ã‚’è¦–è¦šåŒ–ã—ã€ãƒˆãƒ¬ãƒ³ãƒ‰ã‚„å‚¾å‘ã‚’æŠŠæ¡ã™ã‚‹ã“ã¨ã§ã€çµŒå–¶åˆ¤æ–­ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚",
        "benefits": ["å£²ä¸Šãƒˆãƒ¬ãƒ³ãƒ‰ã®å¯è¦–åŒ–", "ãƒ‡ãƒ¼ã‚¿ãƒ‰ãƒªãƒ–ãƒ³ãªæ„æ€æ±ºå®š", "æœˆæ¬¡ãƒ¬ãƒãƒ¼ãƒˆè‡ªå‹•åŒ–", "å£²ä¸Šäºˆæ¸¬ã®ç²¾åº¦å‘ä¸Š"],
        "time_required": "2-3æ™‚é–“",
        "difficulty": "ä¸­ç´š",
        "ai_prompt": "Pythonã§å£²ä¸Šåˆ†æãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚pandasã€matplotlibã€seabornã‚’ä½¿ã£ã¦å£²ä¸Šãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ã€æœˆåˆ¥ãƒ»å•†å“åˆ¥ãƒ»åœ°åŸŸåˆ¥ã®å£²ä¸Šæ¨ç§»ã‚’ã‚°ãƒ©ãƒ•åŒ–ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’åˆå¿ƒè€…ã§ã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†ã«è©³ã—ã„ã‚³ãƒ¡ãƒ³ãƒˆä»˜ãã§æ›¸ã„ã¦ãã ã•ã„ã€‚"
    },
    {
        "id": 34,
        "category": "ãƒ“ã‚¸ãƒã‚¹åˆ†æ",
        "number": "34/100",
        "title": "é¡§å®¢è¡Œå‹•åˆ†æ",
        "desc": "é¡§å®¢ã®è³¼è²·ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åˆ†æ",
        "how_to": "RFMåˆ†æï¼ˆæœ€æ–°è³¼å…¥æ—¥ã€è³¼å…¥é »åº¦ã€è³¼å…¥é‡‘é¡ï¼‰ã‚’ä½¿ã£ã¦é¡§å®¢ã‚’ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåŒ–ã—ã€è³¼è²·è¡Œå‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åˆ†æã—ã¾ã™ã€‚",
        "sample_code": "import pandas as pd\\nimport numpy as np\\nfrom datetime import datetime, timedelta\\n\\nprint('=== é¡§å®¢è¡Œå‹•åˆ†æã‚·ã‚¹ãƒ†ãƒ  ===')\\n\\n# é¡§å®¢è³¼è²·ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚µãƒ³ãƒ—ãƒ«ï¼‰\\ncustomer_data = pd.DataFrame({\\n    'é¡§å®¢ID': ['C001', 'C002', 'C003', 'C004', 'C005', 'C006', 'C007', 'C008'],\\n    'æœ€çµ‚è³¼å…¥æ—¥': ['2024-07-20', '2024-06-15', '2024-07-22', '2024-05-10', '2024-07-18', '2024-04-05', '2024-07-19', '2024-03-20'],\\n    'è³¼å…¥å›æ•°': [5, 2, 8, 1, 12, 3, 6, 1],\\n    'ç·è³¼å…¥é‡‘é¡': [50000, 15000, 120000, 8000, 200000, 25000, 75000, 12000],\\n    'å¹´é½¢': [35, 42, 28, 55, 31, 48, 39, 52],\\n    'æ€§åˆ¥': ['ç”·æ€§', 'å¥³æ€§', 'å¥³æ€§', 'ç”·æ€§', 'å¥³æ€§', 'ç”·æ€§', 'å¥³æ€§', 'ç”·æ€§']\\n})\\n\\ncustomer_data['æœ€çµ‚è³¼å…¥æ—¥'] = pd.to_datetime(customer_data['æœ€çµ‚è³¼å…¥æ—¥'])\\nbase_date = datetime(2024, 7, 25)\\n\\n# RFMåˆ†æ\\ncustomer_data['Recency'] = (base_date - customer_data['æœ€çµ‚è³¼å…¥æ—¥']).dt.days\\ncustomer_data['Frequency'] = customer_data['è³¼å…¥å›æ•°']\\ncustomer_data['Monetary'] = customer_data['ç·è³¼å…¥é‡‘é¡']\\n\\n# RFMã‚¹ã‚³ã‚¢è¨ˆç®—ï¼ˆ5æ®µéšï¼‰\\ncustomer_data['R_Score'] = pd.qcut(customer_data['Recency'], 5, labels=[5,4,3,2,1])\\ncustomer_data['F_Score'] = pd.qcut(customer_data['Frequency'].rank(method='first'), 5, labels=[1,2,3,4,5])\\ncustomer_data['M_Score'] = pd.qcut(customer_data['Monetary'], 5, labels=[1,2,3,4,5])\\n\\n# é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ†é¡\\ndef classify_customer(row):\\n    if row['R_Score'] >= 4 and row['F_Score'] >= 4:\\n        return 'ãƒ­ã‚¤ãƒ¤ãƒ«é¡§å®¢'\\n    elif row['R_Score'] >= 3 and row['F_Score'] >= 3:\\n        return 'å„ªè‰¯é¡§å®¢'\\n    elif row['R_Score'] >= 3:\\n        return 'æ–°è¦é¡§å®¢'\\n    elif row['F_Score'] >= 3:\\n        return 'ä¼‘çœ é¡§å®¢'\\n    else:\\n        return 'è¦æ³¨æ„é¡§å®¢'\\n\\ncustomer_data['é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ'] = customer_data.apply(classify_customer, axis=1)\\n\\nprint('é¡§å®¢è¡Œå‹•åˆ†æçµæœ:')\\nprint(customer_data[['é¡§å®¢ID', 'Recency', 'Frequency', 'Monetary', 'é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ']].to_string(index=False))\\n\\nprint('\\né¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ¥çµ±è¨ˆ:')\\nsegment_stats = customer_data.groupby('é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ').agg({\\n    'é¡§å®¢ID': 'count',\\n    'ç·è³¼å…¥é‡‘é¡': 'mean'\\n}).round(0)\\nprint(segment_stats)\\n\\nprint('\\n=== é¡§å®¢è¡Œå‹•åˆ†æå®Œäº† ===')",
        "libraries": "pandasã€numpyã€datetime",
        "explanation": "RFMåˆ†æã«ã‚ˆã‚Šé¡§å®¢ã‚’åˆ†é¡ã—ã€å„ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã«å¿œã˜ãŸãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æˆ¦ç•¥ã‚’ç«‹æ¡ˆã§ãã¾ã™ã€‚",
        "benefits": ["é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåŒ–", "ã‚¿ãƒ¼ã‚²ãƒ†ã‚£ãƒ³ã‚°ç²¾åº¦å‘ä¸Š", "ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°åŠ¹ç‡åŒ–", "é¡§å®¢ç”Ÿæ¶¯ä¾¡å€¤å‘ä¸Š"],
        "time_required": "2-3æ™‚é–“",
        "difficulty": "ä¸­ç´š",
        "ai_prompt": "Pythonã§é¡§å®¢è¡Œå‹•åˆ†æã®ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚RFMåˆ†æï¼ˆæœ€æ–°è³¼å…¥æ—¥ã€è³¼å…¥é »åº¦ã€è³¼å…¥é‡‘é¡ï¼‰ã‚’ä½¿ã£ã¦é¡§å®¢ã‚’ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåŒ–ã—ã€è³¼è²·è¡Œå‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åˆ†æã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’åˆå¿ƒè€…ã§ã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†ã«è©³ã—ã„ã‚³ãƒ¡ãƒ³ãƒˆä»˜ãã§æ›¸ã„ã¦ãã ã•ã„ã€‚"
    },
    {
        "id": 35,
        "category": "ãƒ“ã‚¸ãƒã‚¹åˆ†æ",
        "number": "35/100",
        "title": "ç«¶åˆä»–ç¤¾åˆ†æ",
        "desc": "ç«¶åˆã®ä¾¡æ ¼ãƒ»æˆ¦ç•¥ã‚’è‡ªå‹•èª¿æŸ»",
        "how_to": "Webã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã‚’ä½¿ã£ã¦ç«¶åˆä»–ç¤¾ã®ä¾¡æ ¼æƒ…å ±ã‚’è‡ªå‹•åé›†ã—ã€æ¯”è¼ƒåˆ†æã‚’è¡Œã„ã¾ã™ã€‚",
        "sample_code": "import pandas as pd\\nimport numpy as np\\nfrom datetime import datetime\\nimport requests\\nfrom bs4 import BeautifulSoup\\n\\nprint('=== ç«¶åˆä»–ç¤¾åˆ†æã‚·ã‚¹ãƒ†ãƒ  ===')\\n\\n# ç«¶åˆä»–ç¤¾ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚µãƒ³ãƒ—ãƒ«ï¼‰\\ncompetitor_data = pd.DataFrame({\\n    'ä¼æ¥­å': ['ç«¶åˆA', 'ç«¶åˆB', 'ç«¶åˆC', 'è‡ªç¤¾'],\\n    'å•†å“ä¾¡æ ¼': [9800, 10500, 8900, 9500],\\n    'å¸‚å ´ã‚·ã‚§ã‚¢': [25.5, 18.2, 15.8, 20.3],\\n    'é¡§å®¢æº€è¶³åº¦': [4.2, 3.8, 4.5, 4.1],\\n    'ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°è²»ç”¨': [5000000, 3500000, 4200000, 4000000],\\n    'ã‚ªãƒ³ãƒ©ã‚¤ãƒ³è©•ä¾¡': [4.3, 3.9, 4.6, 4.2]\\n})\\n\\n# ä¾¡æ ¼ç«¶äº‰åŠ›åˆ†æ\\ncompetitor_data['ä¾¡æ ¼ç«¶äº‰åŠ›'] = (competitor_data['å•†å“ä¾¡æ ¼'].max() - competitor_data['å•†å“ä¾¡æ ¼']) / competitor_data['å•†å“ä¾¡æ ¼'].max() * 100\\ncompetitor_data['ä¾¡æ ¼ç«¶äº‰åŠ›'] = competitor_data['ä¾¡æ ¼ç«¶äº‰åŠ›'].round(1)\\n\\n# ç·åˆã‚¹ã‚³ã‚¢è¨ˆç®—\\ncompetitor_data['ç·åˆã‚¹ã‚³ã‚¢'] = (\\n    competitor_data['å¸‚å ´ã‚·ã‚§ã‚¢'] * 0.3 +\\n    competitor_data['é¡§å®¢æº€è¶³åº¦'] * 20 * 0.25 +\\n    competitor_data['ä¾¡æ ¼ç«¶äº‰åŠ›'] * 0.25 +\\n    competitor_data['ã‚ªãƒ³ãƒ©ã‚¤ãƒ³è©•ä¾¡'] * 20 * 0.2\\n).round(1)\\n\\nprint('ç«¶åˆä»–ç¤¾åˆ†æçµæœ:')\\nprint(competitor_data.to_string(index=False))\\n\\n# è‡ªç¤¾ã®ãƒã‚¸ã‚·ãƒ§ãƒ³åˆ†æ\\nown_company = competitor_data[competitor_data['ä¼æ¥­å'] == 'è‡ªç¤¾'].iloc[0]\\nown_rank = (competitor_data['ç·åˆã‚¹ã‚³ã‚¢'] > own_company['ç·åˆã‚¹ã‚³ã‚¢']).sum() + 1\\n\\nprint(f'\\nè‡ªç¤¾åˆ†æ:')\\nprint(f'ç·åˆé †ä½: {own_rank}ä½/{len(competitor_data)}ç¤¾ä¸­')\\nprint(f'ä¾¡æ ¼ç«¶äº‰åŠ›: {own_company[\"ä¾¡æ ¼ç«¶äº‰åŠ›\"]}%')\\nprint(f'å¸‚å ´ã‚·ã‚§ã‚¢: {own_company[\"å¸‚å ´ã‚·ã‚§ã‚¢\"]}%')\\n\\n# æ”¹å–„ææ¡ˆ\\nprint('\\næ”¹å–„ææ¡ˆ:')\\nbest_competitor = competitor_data.loc[competitor_data['ç·åˆã‚¹ã‚³ã‚¢'].idxmax()]\\nif best_competitor['ä¼æ¥­å'] != 'è‡ªç¤¾':\\n    print(f'- ãƒˆãƒƒãƒ—ä¼æ¥­ã€Œ{best_competitor[\"ä¼æ¥­å\"]}ã€ã®æˆ¦ç•¥ã‚’å‚è€ƒã«ã™ã‚‹')\\n    if best_competitor['å•†å“ä¾¡æ ¼'] < own_company['å•†å“ä¾¡æ ¼']:\\n        print('- ä¾¡æ ¼æˆ¦ç•¥ã®è¦‹ç›´ã—ã‚’æ¤œè¨')\\n    if best_competitor['é¡§å®¢æº€è¶³åº¦'] > own_company['é¡§å®¢æº€è¶³åº¦']:\\n        print('- é¡§å®¢æº€è¶³åº¦å‘ä¸Šæ–½ç­–ã®å®Ÿæ–½')\\n\\nprint('\\n=== ç«¶åˆä»–ç¤¾åˆ†æå®Œäº† ===')",
        "libraries": "pandasã€numpyã€datetimeã€requestsã€beautifulsoup4",
        "explanation": "ç«¶åˆä»–ç¤¾ã®ä¾¡æ ¼ã‚„æˆ¦ç•¥ã‚’å®šæœŸçš„ã«åˆ†æã—ã€è‡ªç¤¾ã®ç«¶äº‰å„ªä½æ€§ã‚’è©•ä¾¡ã—ã¾ã™ã€‚",
        "benefits": ["å¸‚å ´ãƒã‚¸ã‚·ãƒ§ãƒ³æŠŠæ¡", "ä¾¡æ ¼æˆ¦ç•¥æœ€é©åŒ–", "ç«¶äº‰å„ªä½æ€§åˆ†æ", "æˆ¦ç•¥çš„æ„æ€æ±ºå®šæ”¯æ´"],
        "time_required": "3-4æ™‚é–“",
        "difficulty": "ä¸Šç´š",
        "ai_prompt": "Pythonã§ç«¶åˆä»–ç¤¾åˆ†æã®ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚ç«¶åˆä¼æ¥­ã®ä¾¡æ ¼ã€å¸‚å ´ã‚·ã‚§ã‚¢ã€é¡§å®¢æº€è¶³åº¦ã‚’æ¯”è¼ƒåˆ†æã—ã€è‡ªç¤¾ã®ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚’è©•ä¾¡ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’åˆå¿ƒè€…ã§ã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†ã«è©³ã—ã„ã‚³ãƒ¡ãƒ³ãƒˆä»˜ãã§æ›¸ã„ã¦ãã ã•ã„ã€‚"
    },
    {
        "id": 36,
        "category": "ãƒ“ã‚¸ãƒã‚¹åˆ†æ",
        "number": "36/100",
        "title": "å¸‚å ´ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ",
        "desc": "æ¥­ç•Œãƒˆãƒ¬ãƒ³ãƒ‰ã‚’è‡ªå‹•åé›†ãƒ»åˆ†æ",
        "how_to": "ãƒ‹ãƒ¥ãƒ¼ã‚¹APIã‚„ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒ¡ãƒ‡ã‚£ã‚¢ãƒ‡ãƒ¼ã‚¿ã‚’æ´»ç”¨ã—ã¦ã€æ¥­ç•Œã®ãƒˆãƒ”ãƒƒã‚¯ã‚„ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’è‡ªå‹•åˆ†æã—ã¾ã™ã€‚",
        "sample_code": "import pandas as pd\\nimport numpy as np\\nfrom datetime import datetime, timedelta\\nimport matplotlib.pyplot as plt\\n\\nprint('=== å¸‚å ´ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æã‚·ã‚¹ãƒ†ãƒ  ===')\\n\\n# å¸‚å ´ãƒˆãƒ¬ãƒ³ãƒ‰ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚µãƒ³ãƒ—ãƒ«ï¼‰\\ntrend_data = pd.DataFrame({\\n    'æ—¥ä»˜': pd.date_range('2024-01-01', periods=30, freq='D'),\\n    'AIé–¢é€£': np.random.randint(50, 200, 30),\\n    'ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯': np.random.randint(30, 150, 30),\\n    'ã‚µã‚¹ãƒ†ãƒŠãƒ“ãƒªãƒ†ã‚£': np.random.randint(20, 120, 30),\\n    'DX': np.random.randint(40, 180, 30),\\n    'ãƒ‡ãƒ¼ã‚¿åˆ†æ': np.random.randint(35, 160, 30)\\n})\\n\\n# ãƒˆãƒ¬ãƒ³ãƒ‰ã‚¹ã‚³ã‚¢è¨ˆç®—ï¼ˆç§»å‹•å¹³å‡ï¼‰\\nwindow = 7\\nfor column in ['AIé–¢é€£', 'ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯', 'ã‚µã‚¹ãƒ†ãƒŠãƒ“ãƒªãƒ†ã‚£', 'DX', 'ãƒ‡ãƒ¼ã‚¿åˆ†æ']:\\n    trend_data[f'{column}_å¹³å‡'] = trend_data[column].rolling(window=window).mean()\\n    trend_data[f'{column}_ãƒˆãƒ¬ãƒ³ãƒ‰'] = trend_data[f'{column}_å¹³å‡'].pct_change() * 100\\n\\n# æœ€æ–°ã®ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ\\nlatest_trends = trend_data.tail(1)\\ntrend_summary = []\\n\\nfor keyword in ['AIé–¢é€£', 'ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯', 'ã‚µã‚¹ãƒ†ãƒŠãƒ“ãƒªãƒ†ã‚£', 'DX', 'ãƒ‡ãƒ¼ã‚¿åˆ†æ']:\\n    latest_trend = latest_trends[f'{keyword}_ãƒˆãƒ¬ãƒ³ãƒ‰'].iloc[0]\\n    if pd.notna(latest_trend):\\n        if latest_trend > 5:\\n            status = 'æ€¥ä¸Šæ˜‡'\\n        elif latest_trend > 0:\\n            status = 'ä¸Šæ˜‡'\\n        elif latest_trend > -5:\\n            status = 'å®‰å®š'\\n        else:\\n            status = 'ä¸‹é™'\\n        \\n        trend_summary.append({\\n            'ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰': keyword,\\n            'ç¾åœ¨å€¤': latest_trends[keyword].iloc[0],\\n            'ãƒˆãƒ¬ãƒ³ãƒ‰': f'{latest_trend:.1f}%',\\n            'ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹': status\\n        })\\n\\ntrend_df = pd.DataFrame(trend_summary)\\nprint('å¸‚å ´ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æçµæœ:')\\nprint(trend_df.to_string(index=False))\\n\\n# æ³¨ç›®ãƒˆãƒ¬ãƒ³ãƒ‰\\nhot_trends = trend_df[trend_df['ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹'].isin(['æ€¥ä¸Šæ˜‡', 'ä¸Šæ˜‡'])].sort_values('ãƒˆãƒ¬ãƒ³ãƒ‰', ascending=False)\\nif not hot_trends.empty:\\n    print('\\nğŸ“ˆ æ³¨ç›®ãƒˆãƒ¬ãƒ³ãƒ‰:')\\n    for _, trend in hot_trends.head(3).iterrows():\\n        print(f'- {trend[\"ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰\"]}: {trend[\"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹\"]} ({trend[\"ãƒˆãƒ¬ãƒ³ãƒ‰\"]})')\\n\\n# ã‚°ãƒ©ãƒ•ä½œæˆ\\nplt.figure(figsize=(12, 8))\\nfor column in ['AIé–¢é€£', 'ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯', 'ã‚µã‚¹ãƒ†ãƒŠãƒ“ãƒªãƒ†ã‚£', 'DX', 'ãƒ‡ãƒ¼ã‚¿åˆ†æ']:\\n    plt.plot(trend_data['æ—¥ä»˜'], trend_data[f'{column}_å¹³å‡'], label=column, marker='o', markersize=3)\\n\\nplt.title('å¸‚å ´ãƒˆãƒ¬ãƒ³ãƒ‰æ¨ç§»ï¼ˆ7æ—¥ç§»å‹•å¹³å‡ï¼‰')\\nplt.xlabel('æ—¥ä»˜')\\nplt.ylabel('ãƒˆãƒ¬ãƒ³ãƒ‰ã‚¹ã‚³ã‚¢')\\nplt.legend()\\nplt.xticks(rotation=45)\\nplt.tight_layout()\\nplt.show()\\n\\nprint('\\n=== å¸‚å ´ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æå®Œäº† ===')",
        "libraries": "pandasã€numpyã€datetimeã€matplotlib",
        "explanation": "å¸‚å ´ã®ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’å®šé‡çš„ã«åˆ†æã—ã€ãƒ“ã‚¸ãƒã‚¹æ©Ÿä¼šã®ç™ºè¦‹ã‚„æˆ¦ç•¥ç«‹æ¡ˆã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚",
        "benefits": ["å¸‚å ´æ©Ÿä¼šã®ç™ºè¦‹", "ãƒˆãƒ¬ãƒ³ãƒ‰äºˆæ¸¬", "ç«¶äº‰æˆ¦ç•¥ç«‹æ¡ˆ", "æŠ•è³‡åˆ¤æ–­æ”¯æ´"],
        "time_required": "2-3æ™‚é–“",
        "difficulty": "ä¸­ç´š",
        "ai_prompt": "Pythonã§å¸‚å ´ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æã®ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚æ¥­ç•Œã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®ãƒˆãƒ¬ãƒ³ãƒ‰æ¨ç§»ã‚’åˆ†æã—ã€ä¸Šæ˜‡ãƒ»ä¸‹é™ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’å¯è¦–åŒ–ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’åˆå¿ƒè€…ã§ã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†ã«è©³ã—ã„ã‚³ãƒ¡ãƒ³ãƒˆä»˜ãã§æ›¸ã„ã¦ãã ã•ã„ã€‚"
    },
    {
        "id": 37,
        "category": "ãƒ“ã‚¸ãƒã‚¹åˆ†æ",
        "number": "37/100",
        "title": "ROIè¨ˆç®—ãƒ„ãƒ¼ãƒ«",
        "desc": "æŠ•è³‡åç›Šç‡ã‚’è‡ªå‹•è¨ˆç®—",
        "how_to": "æŠ•è³‡ã‚³ã‚¹ãƒˆã¨ãƒªã‚¿ãƒ¼ãƒ³ã‚’å…¥åŠ›ã—ã€ROIã€IRRã€NPVãªã©ã®æŠ•è³‡æŒ‡æ¨™ã‚’è‡ªå‹•è¨ˆç®—ã—ã¾ã™ã€‚",
        "sample_code": "import pandas as pd\\nimport numpy as np\\nfrom datetime import datetime\\n\\nprint('=== ROIè¨ˆç®—ãƒ„ãƒ¼ãƒ« ===')\\n\\n# æŠ•è³‡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ¼ã‚¿ï¼ˆã‚µãƒ³ãƒ—ãƒ«ï¼‰\\nprojects = pd.DataFrame({\\n    'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå': ['æ–°ã‚·ã‚¹ãƒ†ãƒ å°å…¥', 'ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æ–½ç­–A', 'è¨­å‚™æŠ•è³‡', 'äººæè‚²æˆ', 'ãƒ‡ã‚¸ã‚¿ãƒ«åŒ–æ¨é€²'],\\n    'åˆæœŸæŠ•è³‡': [5000000, 2000000, 8000000, 1500000, 3500000],\\n    'å¹´é–“åç›Š': [1500000, 800000, 2200000, 500000, 1200000],\\n    'å¹´é–“ã‚³ã‚¹ãƒˆ': [300000, 200000, 400000, 100000, 250000],\\n    'æŠ•è³‡æœŸé–“': [5, 3, 7, 4, 5]\\n})\\n\\n# ROIè¨ˆç®—\\nprojects['å¹´é–“åˆ©ç›Š'] = projects['å¹´é–“åç›Š'] - projects['å¹´é–“ã‚³ã‚¹ãƒˆ']\\nprojects['ç·åˆ©ç›Š'] = projects['å¹´é–“åˆ©ç›Š'] * projects['æŠ•è³‡æœŸé–“']\\nprojects['ROI(%)'] = ((projects['ç·åˆ©ç›Š'] - projects['åˆæœŸæŠ•è³‡']) / projects['åˆæœŸæŠ•è³‡'] * 100).round(2)\\nprojects['å›åæœŸé–“'] = (projects['åˆæœŸæŠ•è³‡'] / projects['å¹´é–“åˆ©ç›Š']).round(1)\\n\\n# NPVè¨ˆç®—ï¼ˆå‰²å¼•ç‡5%ï¼‰\\ndiscount_rate = 0.05\\ndef calculate_npv(initial_investment, annual_profit, years, rate):\\n    npv = -initial_investment\\n    for year in range(1, years + 1):\\n        npv += annual_profit / (1 + rate) ** year\\n    return npv\\n\\nprojects['NPV'] = projects.apply(\\n    lambda row: calculate_npv(row['åˆæœŸæŠ•è³‡'], row['å¹´é–“åˆ©ç›Š'], row['æŠ•è³‡æœŸé–“'], discount_rate),\\n    axis=1\\n).round(0)\\n\\n# æŠ•è³‡åŠ¹ç‡ã‚¹ã‚³ã‚¢\\nprojects['æŠ•è³‡åŠ¹ç‡ã‚¹ã‚³ã‚¢'] = (\\n    (projects['ROI(%)'] / projects['ROI(%)'].max() * 40) +\\n    (projects['NPV'] / projects['NPV'].max() * 30) +\\n    ((5 - projects['å›åæœŸé–“']) / 5 * 30)\\n).round(1)\\n\\nprint('ROIåˆ†æçµæœ:')\\nprint(projects[['ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå', 'ROI(%)', 'å›åæœŸé–“', 'NPV', 'æŠ•è³‡åŠ¹ç‡ã‚¹ã‚³ã‚¢']].to_string(index=False))\\n\\n# æŠ•è³‡æ¨å¥¨åº¦åˆ¤å®š\\ndef get_recommendation(row):\\n    if row['ROI(%)'] > 50 and row['NPV'] > 0 and row['å›åæœŸé–“'] < 3:\\n        return 'å¼·ãæ¨å¥¨'\\n    elif row['ROI(%)'] > 20 and row['NPV'] > 0 and row['å›åæœŸé–“'] < 4:\\n        return 'æ¨å¥¨'\\n    elif row['ROI(%)'] > 0 and row['NPV'] > 0:\\n        return 'æ¤œè¨å¯èƒ½'\\n    else:\\n        return 'éæ¨å¥¨'\\n\\nprojects['æ¨å¥¨åº¦'] = projects.apply(get_recommendation, axis=1)\\n\\nprint('\\næŠ•è³‡æ¨å¥¨åº¦:')\\nfor _, project in projects.iterrows():\\n    print(f'{project[\"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå\"]}: {project[\"æ¨å¥¨åº¦\"]} (ROI: {project[\"ROI(%)\"]:.1f}%, å›å: {project[\"å›åæœŸé–“\"]}å¹´)')\\n\\n# ãƒ™ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ\\nbest_project = projects.loc[projects['æŠ•è³‡åŠ¹ç‡ã‚¹ã‚³ã‚¢'].idxmax()]\\nprint(f'\\nğŸ† æœ€å„ªå…ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: {best_project[\"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå\"]}')\\nprint(f'   æŠ•è³‡åŠ¹ç‡ã‚¹ã‚³ã‚¢: {best_project[\"æŠ•è³‡åŠ¹ç‡ã‚¹ã‚³ã‚¢\"]}ç‚¹')\\nprint(f'   ROI: {best_project[\"ROI(%)\"]:.1f}%')\\nprint(f'   å›åæœŸé–“: {best_project[\"å›åæœŸé–“\"]}å¹´')\\n\\nprint('\\n=== ROIè¨ˆç®—å®Œäº† ===')",
        "libraries": "pandasã€numpyã€datetime",
        "explanation": "æŠ•è³‡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ROIã€NPVã€å›åæœŸé–“ã‚’è¨ˆç®—ã—ã€æŠ•è³‡åˆ¤æ–­ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚",
        "benefits": ["æŠ•è³‡åˆ¤æ–­ã®å®šé‡åŒ–", "ãƒªã‚¹ã‚¯è©•ä¾¡", "è³‡æºé…åˆ†æœ€é©åŒ–", "æŠ•è³‡åŠ¹ç‡å‘ä¸Š"],
        "time_required": "2-3æ™‚é–“",
        "difficulty": "ä¸­ç´š",
        "ai_prompt": "Pythonã§ROIè¨ˆç®—ãƒ„ãƒ¼ãƒ«ã®ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚æŠ•è³‡ã‚³ã‚¹ãƒˆã¨ãƒªã‚¿ãƒ¼ãƒ³ã‹ã‚‰ROIã€NPVã€å›åæœŸé–“ã‚’è¨ˆç®—ã—ã€æŠ•è³‡åˆ¤æ–­ã‚’æ”¯æ´ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’åˆå¿ƒè€…ã§ã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†ã«è©³ã—ã„ã‚³ãƒ¡ãƒ³ãƒˆä»˜ãã§æ›¸ã„ã¦ãã ã•ã„ã€‚"
    },
    {
        "id": 38,
        "category": "ãƒ“ã‚¸ãƒã‚¹åˆ†æ",
        "number": "38/100",
        "title": "ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–ã‚·ã‚¹ãƒ†ãƒ ",
        "desc": "è¤‡é›‘ãªãƒ‡ãƒ¼ã‚¿ã‚’åˆ†ã‹ã‚Šã‚„ã™ãã‚°ãƒ©ãƒ•åŒ–",
        "how_to": "matplotlibã€seabornã€plotlyã‚’ä½¿ã£ã¦æ§˜ã€…ãªã‚¿ã‚¤ãƒ—ã®ã‚°ãƒ©ãƒ•ã‚’è‡ªå‹•ç”Ÿæˆã—ã€ãƒ‡ãƒ¼ã‚¿ã®ç‰¹å¾´ã‚’è¦–è¦šåŒ–ã—ã¾ã™ã€‚",
        "sample_code": "import pandas as pd\\nimport numpy as np\\nimport matplotlib.pyplot as plt\\nimport seaborn as sns\\nfrom datetime import datetime, timedelta\\n\\nprint('=== ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–ã‚·ã‚¹ãƒ†ãƒ  ===')\\n\\n# ãƒ“ã‚¸ãƒã‚¹ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚µãƒ³ãƒ—ãƒ«ï¼‰\\nnp.random.seed(42)\\nbusiness_data = pd.DataFrame({\\n    'æœˆ': pd.date_range('2024-01-01', periods=12, freq='M'),\\n    'å£²ä¸Š': np.random.normal(1000000, 200000, 12).astype(int),\\n    'åˆ©ç›Š': np.random.normal(200000, 50000, 12).astype(int),\\n    'é¡§å®¢æ•°': np.random.normal(500, 100, 12).astype(int),\\n    'æ–°è¦é¡§å®¢': np.random.normal(50, 15, 12).astype(int)\\n})\\n\\n# åˆ©ç›Šç‡è¨ˆç®—\\nbusiness_data['åˆ©ç›Šç‡'] = (business_data['åˆ©ç›Š'] / business_data['å£²ä¸Š'] * 100).round(1)\\nbusiness_data['é¡§å®¢å˜ä¾¡'] = (business_data['å£²ä¸Š'] / business_data['é¡§å®¢æ•°']).round(0)\\n\\n# 1. å£²ä¸Šãƒ»åˆ©ç›Šæ¨ç§»ã‚°ãƒ©ãƒ•\\nfig, axes = plt.subplots(2, 2, figsize=(15, 12))\\n\\n# å£²ä¸Šæ¨ç§»\\naxes[0,0].plot(business_data['æœˆ'], business_data['å£²ä¸Š'], marker='o', color='blue', linewidth=2)\\naxes[0,0].set_title('æœˆåˆ¥å£²ä¸Šæ¨ç§»')\\naxes[0,0].set_ylabel('å£²ä¸Šï¼ˆå††ï¼‰')\\naxes[0,0].tick_params(axis='x', rotation=45)\\naxes[0,0].grid(True, alpha=0.3)\\n\\n# åˆ©ç›Šç‡æ¨ç§»\\naxes[0,1].bar(range(len(business_data)), business_data['åˆ©ç›Šç‡'], color='green', alpha=0.7)\\naxes[0,1].set_title('æœˆåˆ¥åˆ©ç›Šç‡')\\naxes[0,1].set_ylabel('åˆ©ç›Šç‡ï¼ˆ%ï¼‰')\\naxes[0,1].set_xlabel('æœˆ')\\naxes[0,1].grid(True, alpha=0.3)\\n\\n# é¡§å®¢æ•°æ¨ç§»\\naxes[1,0].fill_between(range(len(business_data)), business_data['é¡§å®¢æ•°'], alpha=0.6, color='orange')\\naxes[1,0].plot(range(len(business_data)), business_data['é¡§å®¢æ•°'], marker='s', color='red')\\naxes[1,0].set_title('æœˆåˆ¥é¡§å®¢æ•°æ¨ç§»')\\naxes[1,0].set_ylabel('é¡§å®¢æ•°ï¼ˆäººï¼‰')\\naxes[1,0].set_xlabel('æœˆ')\\naxes[1,0].grid(True, alpha=0.3)\\n\\n# å£²ä¸Švsåˆ©ç›Šæ•£å¸ƒå›³\\naxes[1,1].scatter(business_data['å£²ä¸Š'], business_data['åˆ©ç›Š'], s=business_data['é¡§å®¢æ•°']/5, alpha=0.6, color='purple')\\naxes[1,1].set_title('å£²ä¸Švsåˆ©ç›Šï¼ˆãƒãƒ–ãƒ«ã‚µã‚¤ã‚º=é¡§å®¢æ•°ï¼‰')\\naxes[1,1].set_xlabel('å£²ä¸Šï¼ˆå††ï¼‰')\\naxes[1,1].set_ylabel('åˆ©ç›Šï¼ˆå††ï¼‰')\\naxes[1,1].grid(True, alpha=0.3)\\n\\nplt.tight_layout()\\nplt.show()\\n\\n# çµ±è¨ˆã‚µãƒãƒªãƒ¼\\nprint('\\nãƒ“ã‚¸ãƒã‚¹æŒ‡æ¨™ã‚µãƒãƒªãƒ¼:')\\nsummary_stats = business_data[['å£²ä¸Š', 'åˆ©ç›Š', 'åˆ©ç›Šç‡', 'é¡§å®¢æ•°', 'é¡§å®¢å˜ä¾¡']].describe().round(0)\\nprint(summary_stats)\\n\\n# ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ\\nprint('\\nãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ:')\\nsales_trend = np.polyfit(range(len(business_data)), business_data['å£²ä¸Š'], 1)[0]\\nprofit_trend = np.polyfit(range(len(business_data)), business_data['åˆ©ç›Š'], 1)[0]\\ncustomer_trend = np.polyfit(range(len(business_data)), business_data['é¡§å®¢æ•°'], 1)[0]\\n\\nprint(f'å£²ä¸Šãƒˆãƒ¬ãƒ³ãƒ‰: {\"å¢—åŠ \" if sales_trend > 0 else \"æ¸›å°‘\"} (æœˆå¹³å‡ {abs(sales_trend):,.0f}å††)')\\nprint(f'åˆ©ç›Šãƒˆãƒ¬ãƒ³ãƒ‰: {\"å¢—åŠ \" if profit_trend > 0 else \"æ¸›å°‘\"} (æœˆå¹³å‡ {abs(profit_trend):,.0f}å††)')\\nprint(f'é¡§å®¢æ•°ãƒˆãƒ¬ãƒ³ãƒ‰: {\"å¢—åŠ \" if customer_trend > 0 else \"æ¸›å°‘\"} (æœˆå¹³å‡ {abs(customer_trend):.0f}äºº)')\\n\\n# ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è©•ä¾¡\\nbest_month = business_data.loc[business_data['å£²ä¸Š'].idxmax(), 'æœˆ'].strftime('%Yå¹´%mæœˆ')\\nworst_month = business_data.loc[business_data['å£²ä¸Š'].idxmin(), 'æœˆ'].strftime('%Yå¹´%mæœˆ')\\n\\nprint(f'\\nğŸ“ˆ æœ€é«˜å£²ä¸Šæœˆ: {best_month} ({business_data[\"å£²ä¸Š\"].max():,}å††)')\\nprint(f'ğŸ“‰ æœ€ä½å£²ä¸Šæœˆ: {worst_month} ({business_data[\"å£²ä¸Š\"].min():,}å††)')\\n\\nprint('\\n=== ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–å®Œäº† ===')",
        "libraries": "pandasã€numpyã€matplotlibã€seabornã€datetime",
        "explanation": "è¤‡é›‘ãªãƒ“ã‚¸ãƒã‚¹ãƒ‡ãƒ¼ã‚¿ã‚’æ§˜ã€…ãªã‚°ãƒ©ãƒ•ã§è¦–è¦šåŒ–ã—ã€ãƒ‡ãƒ¼ã‚¿ã®ç‰¹å¾´ã‚„å‚¾å‘ã‚’åˆ†ã‹ã‚Šã‚„ã™ãè¡¨ç¤ºã—ã¾ã™ã€‚",
        "benefits": ["ãƒ‡ãƒ¼ã‚¿ã®ç›´æ„Ÿçš„ç†è§£", "æ„æ€æ±ºå®šã®è¿…é€ŸåŒ–", "ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å“è³ªå‘ä¸Š", "ç•°å¸¸å€¤ã®ç™ºè¦‹"],
        "time_required": "2-3æ™‚é–“",
        "difficulty": "ä¸­ç´š",
        "ai_prompt": "Pythonã§ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–ã‚·ã‚¹ãƒ†ãƒ ã®ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚matplotlibã€seabornã‚’ä½¿ã£ã¦å£²ä¸Šã€åˆ©ç›Šã€é¡§å®¢æ•°ãªã©ã®ãƒ“ã‚¸ãƒã‚¹ãƒ‡ãƒ¼ã‚¿ã‚’æ§˜ã€…ãªã‚°ãƒ©ãƒ•ã§è¦–è¦šåŒ–ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’åˆå¿ƒè€…ã§ã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†ã«è©³ã—ã„ã‚³ãƒ¡ãƒ³ãƒˆä»˜ãã§æ›¸ã„ã¦ãã ã•ã„ã€‚"
    },
    {
        "id": 39,
        "category": "ãƒ“ã‚¸ãƒã‚¹åˆ†æ",
        "number": "39/100",
        "title": "KPIè‡ªå‹•ãƒ¬ãƒãƒ¼ãƒˆ",
        "desc": "é‡è¦æŒ‡æ¨™ã‚’è‡ªå‹•é›†è¨ˆãƒ»ãƒ¬ãƒãƒ¼ãƒˆåŒ–",
        "how_to": "å„éƒ¨é–€ã®KPIãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•é›†è¨ˆã—ã€é”æˆç‡ã‚„å‰æœˆæ¯”ã‚’è¨ˆç®—ã—ã¦ãƒ¬ãƒãƒ¼ãƒˆå½¢å¼ã§å‡ºåŠ›ã—ã¾ã™ã€‚",
        "sample_code": "import pandas as pd\\nimport numpy as np\\nfrom datetime import datetime, timedelta\\nimport matplotlib.pyplot as plt\\n\\nprint('=== KPIè‡ªå‹•ãƒ¬ãƒãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ  ===')\\n\\n# KPIãƒ‡ãƒ¼ã‚¿ï¼ˆã‚µãƒ³ãƒ—ãƒ«ï¼‰\\nkpi_data = pd.DataFrame({\\n    'KPIé …ç›®': ['æœˆé–“å£²ä¸Š', 'æ–°è¦é¡§å®¢ç²å¾—', 'é¡§å®¢æº€è¶³åº¦', 'ãƒªãƒ”ãƒ¼ãƒˆç‡', 'ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç‡', 'å–¶æ¥­åŠ¹ç‡', 'ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ROI', 'ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µãƒãƒ¼ãƒˆæº€è¶³åº¦'],\\n    'ç›®æ¨™å€¤': [10000000, 100, 4.5, 65, 3.2, 85, 300, 4.3],\\n    'å®Ÿç¸¾å€¤': [11200000, 85, 4.2, 72, 3.8, 78, 280, 4.1],\\n    'å‰æœˆå®Ÿç¸¾': [9800000, 92, 4.1, 68, 3.1, 82, 250, 4.0],\\n    'å˜ä½': ['å††', 'äºº', 'ç‚¹', '%', '%', '%', '%', 'ç‚¹'],\\n    'æ‹…å½“éƒ¨é–€': ['å–¶æ¥­', 'ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°', 'CS', 'å–¶æ¥­', 'ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°', 'å–¶æ¥­', 'ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°', 'CS']\\n})\\n\\n# KPIé”æˆç‡è¨ˆç®—\\nkpi_data['é”æˆç‡'] = (kpi_data['å®Ÿç¸¾å€¤'] / kpi_data['ç›®æ¨™å€¤'] * 100).round(1)\\nkpi_data['å‰æœˆæ¯”'] = ((kpi_data['å®Ÿç¸¾å€¤'] - kpi_data['å‰æœˆå®Ÿç¸¾']) / kpi_data['å‰æœˆå®Ÿç¸¾'] * 100).round(1)\\n\\n# é”æˆåº¦åˆ¤å®š\\ndef get_achievement_status(rate):\\n    if rate >= 100:\\n        return 'é”æˆ âœ…'\\n    elif rate >= 90:\\n        return 'æ¦‚ã­é”æˆ ğŸŸ¡'\\n    elif rate >= 80:\\n        return 'è¦æ”¹å–„ ğŸŸ '\\n    else:\\n        return 'æœªé”æˆ âŒ'\\n\\nkpi_data['é”æˆçŠ¶æ³'] = kpi_data['é”æˆç‡'].apply(get_achievement_status)\\n\\n# å‰æœˆæ¯”ãƒˆãƒ¬ãƒ³ãƒ‰\\ndef get_trend(change):\\n    if change > 5:\\n        return 'å¤§å¹…æ”¹å–„ ğŸ“ˆ'\\n    elif change > 0:\\n        return 'æ”¹å–„ â†—ï¸'\\n    elif change > -5:\\n        return 'æ¨ªã°ã„ â¡ï¸'\\n    else:\\n        return 'æ‚ªåŒ– ğŸ“‰'\\n\\nkpi_data['ãƒˆãƒ¬ãƒ³ãƒ‰'] = kpi_data['å‰æœˆæ¯”'].apply(get_trend)\\n\\nprint('ğŸ“Š KPIé”æˆçŠ¶æ³ãƒ¬ãƒãƒ¼ãƒˆ')\\nprint('=' * 80)\\nprint(f'ãƒ¬ãƒãƒ¼ãƒˆä½œæˆæ—¥æ™‚: {datetime.now().strftime(\"%Yå¹´%mæœˆ%dæ—¥ %H:%M\")}')\\nprint()\\n\\n# å…¨ä½“ã‚µãƒãƒªãƒ¼\\ntotal_kpis = len(kpi_data)\\nachieved_kpis = len(kpi_data[kpi_data['é”æˆç‡'] >= 100])\\nnearly_achieved = len(kpi_data[(kpi_data['é”æˆç‡'] >= 90) & (kpi_data['é”æˆç‡'] < 100)])\\nneeds_improvement = total_kpis - achieved_kpis - nearly_achieved\\n\\nprint('ğŸ¯ å…¨ä½“ã‚µãƒãƒªãƒ¼:')\\nprint(f'   é”æˆ: {achieved_kpis}é …ç›® ({achieved_kpis/total_kpis*100:.1f}%)')\\nprint(f'   æ¦‚ã­é”æˆ: {nearly_achieved}é …ç›® ({nearly_achieved/total_kpis*100:.1f}%)')\\nprint(f'   è¦æ”¹å–„: {needs_improvement}é …ç›® ({needs_improvement/total_kpis*100:.1f}%)')\\nprint()\\n\\n# è©³ç´°KPIãƒ¬ãƒãƒ¼ãƒˆ\\nprint('ğŸ“ˆ è©³ç´°KPIåˆ†æ:')\\nfor _, kpi in kpi_data.iterrows():\\n    print(f'\\nã€{kpi[\"KPIé …ç›®\"]}ã€‘({kpi[\"æ‹…å½“éƒ¨é–€\"]})\\n'\\\n          f'  ç›®æ¨™: {kpi[\"ç›®æ¨™å€¤\"]:,}{kpi[\"å˜ä½\"]} | å®Ÿç¸¾: {kpi[\"å®Ÿç¸¾å€¤\"]:,}{kpi[\"å˜ä½\"]}\\n'\\\n          f'  é”æˆç‡: {kpi[\"é”æˆç‡\"]}% ({kpi[\"é”æˆçŠ¶æ³\"]})\\n'\\\n          f'  å‰æœˆæ¯”: {kpi[\"å‰æœˆæ¯”\"]:+.1f}% ({kpi[\"ãƒˆãƒ¬ãƒ³ãƒ‰\"]})')\\n\\n# éƒ¨é–€åˆ¥ã‚µãƒãƒªãƒ¼\\nprint('\\nğŸ¢ éƒ¨é–€åˆ¥é”æˆçŠ¶æ³:')\\ndept_summary = kpi_data.groupby('æ‹…å½“éƒ¨é–€').agg({\\n    'é”æˆç‡': 'mean',\\n    'å‰æœˆæ¯”': 'mean',\\n    'KPIé …ç›®': 'count'\\n}).round(1)\\ndept_summary.columns = ['å¹³å‡é”æˆç‡', 'å¹³å‡å‰æœˆæ¯”', 'KPIæ•°']\\n\\nfor dept, data in dept_summary.iterrows():\\n    status = get_achievement_status(data['å¹³å‡é”æˆç‡'])\\n    trend = get_trend(data['å¹³å‡å‰æœˆæ¯”'])\\n    print(f'  {dept}: é”æˆç‡{data[\"å¹³å‡é”æˆç‡\"]}% ({status}) | å‰æœˆæ¯”{data[\"å¹³å‡å‰æœˆæ¯”\"]:+.1f}% ({trend})')\\n\\n# æ³¨ç›®ãƒã‚¤ãƒ³ãƒˆ\\nprint('\\nğŸ” æ³¨ç›®ãƒã‚¤ãƒ³ãƒˆ:')\\n\\n# æœ€é«˜é”æˆç‡\\nbest_kpi = kpi_data.loc[kpi_data['é”æˆç‡'].idxmax()]\\nprint(f'âœ¨ æœ€é«˜é”æˆç‡: {best_kpi[\"KPIé …ç›®\"]} ({best_kpi[\"é”æˆç‡\"]}%)')\\n\\n# æœ€å¤§æ”¹å–„\\nbest_improvement = kpi_data.loc[kpi_data['å‰æœˆæ¯”'].idxmax()]\\nprint(f'ğŸ“ˆ æœ€å¤§æ”¹å–„: {best_improvement[\"KPIé …ç›®\"]} (å‰æœˆæ¯”+{best_improvement[\"å‰æœˆæ¯”\"]}%)')\\n\\n# è¦æ³¨æ„é …ç›®\\nworst_kpi = kpi_data.loc[kpi_data['é”æˆç‡'].idxmin()]\\nif worst_kpi['é”æˆç‡'] < 90:\\n    print(f'âš ï¸  è¦æ³¨æ„: {worst_kpi[\"KPIé …ç›®\"]} (é”æˆç‡{worst_kpi[\"é”æˆç‡\"]}%)')\\n\\nprint('\\n=== KPIè‡ªå‹•ãƒ¬ãƒãƒ¼ãƒˆå®Œäº† ===')",
        "libraries": "pandasã€numpyã€datetimeã€matplotlib",
        "explanation": "å„éƒ¨é–€ã®KPIã‚’è‡ªå‹•é›†è¨ˆã—ã€é”æˆçŠ¶æ³ã‚„å‰æœˆæ¯”ã‚’åˆ†æã—ã¦ãƒ¬ãƒãƒ¼ãƒˆå½¢å¼ã§å‡ºåŠ›ã—ã¾ã™ã€‚",
        "benefits": ["KPIç®¡ç†ã®è‡ªå‹•åŒ–", "çµŒå–¶çŠ¶æ³ã®å¯è¦–åŒ–", "éƒ¨é–€åˆ¥ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¯”è¼ƒ", "æ„æ€æ±ºå®šã®è¿…é€ŸåŒ–"],
        "time_required": "2-3æ™‚é–“",
        "difficulty": "ä¸­ç´š",
        "ai_prompt": "Pythonã§KPIè‡ªå‹•ãƒ¬ãƒãƒ¼ãƒˆã®ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚å„éƒ¨é–€ã®KPIãƒ‡ãƒ¼ã‚¿ã‚’é›†è¨ˆã—ã€é”æˆç‡ã€å‰æœˆæ¯”ã€ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æã‚’è¡Œã£ã¦ãƒ¬ãƒãƒ¼ãƒˆå½¢å¼ã§å‡ºåŠ›ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’åˆå¿ƒè€…ã§ã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†ã«è©³ã—ã„ã‚³ãƒ¡ãƒ³ãƒˆä»˜ãã§æ›¸ã„ã¦ãã ã•ã„ã€‚"
    },
    {
        "id": 40,
        "category": "ãƒ“ã‚¸ãƒã‚¹åˆ†æ",
        "number": "40/100",
        "title": "äºˆç®—ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ",
        "desc": "äºˆç®—åŸ·è¡ŒçŠ¶æ³ã‚’è‡ªå‹•ç›£è¦–",
        "how_to": "å„éƒ¨é–€ã®äºˆç®—ã¨å®Ÿç¸¾ã‚’æ¯”è¼ƒã—ã€åŸ·è¡Œç‡ã‚„æ®‹äºˆç®—ã‚’è‡ªå‹•è¨ˆç®—ã—ã¦äºˆç®—ã‚ªãƒ¼ãƒãƒ¼ã®è­¦å‘Šã‚’å‡ºã—ã¾ã™ã€‚",
        "sample_code": "import pandas as pd\\nimport numpy as np\\nfrom datetime import datetime, timedelta\\nimport matplotlib.pyplot as plt\\n\\nprint('=== äºˆç®—ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  ===')\\n\\n# äºˆç®—ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚µãƒ³ãƒ—ãƒ«ï¼‰\\nbudget_data = pd.DataFrame({\\n    'éƒ¨é–€': ['å–¶æ¥­éƒ¨', 'ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°éƒ¨', 'é–‹ç™ºéƒ¨', 'äººäº‹éƒ¨', 'ç·å‹™éƒ¨', 'çµŒç†éƒ¨'],\\n    'å¹´é–“äºˆç®—': [50000000, 30000000, 80000000, 20000000, 15000000, 10000000],\\n    'ä¸ŠåŠæœŸäºˆç®—': [25000000, 15000000, 40000000, 10000000, 7500000, 5000000],\\n    'ä¸ŠåŠæœŸå®Ÿç¸¾': [28000000, 12000000, 42000000, 8500000, 6800000, 4200000],\\n    '7æœˆå®Ÿç¸¾': [4200000, 2800000, 7200000, 1400000, 1200000, 800000],\\n    '8æœˆå®Ÿç¸¾': [4500000, 3200000, 6800000, 1600000, 1100000, 750000],\\n    'äºˆç®—é …ç›®': ['å–¶æ¥­æ´»å‹•è²»', 'åºƒå‘Šå®£ä¼è²»', 'ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºè²»', 'äººä»¶è²»', 'äº‹å‹™ç”¨å“è²»', 'ä¼šè¨ˆã‚·ã‚¹ãƒ†ãƒ è²»']\\n})\\n\\n# ç¾åœ¨ã¾ã§ã®å®Ÿç¸¾è¨ˆç®—\\nbudget_data['ç´¯è¨ˆå®Ÿç¸¾'] = budget_data['ä¸ŠåŠæœŸå®Ÿç¸¾'] + budget_data['7æœˆå®Ÿç¸¾'] + budget_data['8æœˆå®Ÿç¸¾']\\nbudget_data['8æœˆæœ«äºˆå®šäºˆç®—'] = budget_data['å¹´é–“äºˆç®—'] * (8/12)  # 8ãƒ¶æœˆåˆ†\\nbudget_data['åŸ·è¡Œç‡'] = (budget_data['ç´¯è¨ˆå®Ÿç¸¾'] / budget_data['8æœˆæœ«äºˆå®šäºˆç®—'] * 100).round(1)\\nbudget_data['æ®‹äºˆç®—'] = budget_data['å¹´é–“äºˆç®—'] - budget_data['ç´¯è¨ˆå®Ÿç¸¾']\\nbudget_data['äºˆç®—é”æˆãƒšãƒ¼ã‚¹'] = (budget_data['ç´¯è¨ˆå®Ÿç¸¾'] / budget_data['å¹´é–“äºˆç®—'] * 100).round(1)\\n\\n# äºˆç®—ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¤å®š\\ndef get_budget_status(execution_rate, pace):\\n    if execution_rate > 110:\\n        return 'äºˆç®—è¶…é ğŸš¨'\\n    elif execution_rate > 100:\\n        return 'äºˆç®—ã‚ªãƒ¼ãƒãƒ¼ âš ï¸'\\n    elif execution_rate > 90:\\n        return 'é©æ­£ âœ…'\\n    elif execution_rate > 70:\\n        return 'é †èª¿ ğŸŸ¢'\\n    else:\\n        return 'æœªåŸ·è¡Œ ğŸ”µ'\\n\\nbudget_data['ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹'] = budget_data.apply(lambda x: get_budget_status(x['åŸ·è¡Œç‡'], x['äºˆç®—é”æˆãƒšãƒ¼ã‚¹']), axis=1)\\n\\n# æœˆæ¬¡å®Ÿç¸¾è¨ˆç®—\\nbudget_data['7æœˆåŸ·è¡Œç‡'] = (budget_data['7æœˆå®Ÿç¸¾'] / (budget_data['å¹´é–“äºˆç®—']/12) * 100).round(1)\\nbudget_data['8æœˆåŸ·è¡Œç‡'] = (budget_data['8æœˆå®Ÿç¸¾'] / (budget_data['å¹´é–“äºˆç®—']/12) * 100).round(1)\\n\\nprint('ğŸ’° äºˆç®—åŸ·è¡ŒçŠ¶æ³ãƒ¬ãƒãƒ¼ãƒˆ')\\nprint('=' * 80)\\nprint(f'é›†è¨ˆæœŸé–“: 2024å¹´1æœˆã€œ8æœˆ (ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ: {datetime.now().strftime(\"%Y/%m/%d %H:%M\")})')\\nprint()\\n\\n# å…¨ä½“ã‚µãƒãƒªãƒ¼\\ntotal_budget = budget_data['å¹´é–“äºˆç®—'].sum()\\ntotal_actual = budget_data['ç´¯è¨ˆå®Ÿç¸¾'].sum()\\noverall_execution_rate = (total_actual / (total_budget * 8/12) * 100)\\n\\nprint('ğŸ“Š å…¨ä½“ã‚µãƒãƒªãƒ¼:')\\nprint(f'   å¹´é–“ç·äºˆç®—: {total_budget:,}å††')\\nprint(f'   8æœˆæœ«ç´¯è¨ˆå®Ÿç¸¾: {total_actual:,}å††')\\nprint(f'   å…¨ä½“åŸ·è¡Œç‡: {overall_execution_rate:.1f}%')\\nprint(f'   æ®‹äºˆç®—: {total_budget - total_actual:,}å††')\\nprint()\\n\\n# éƒ¨é–€åˆ¥è©³ç´°\\nprint('ğŸ¢ éƒ¨é–€åˆ¥åŸ·è¡ŒçŠ¶æ³:')\\nfor _, dept in budget_data.iterrows():\\n    print(f'\\nã€{dept[\"éƒ¨é–€\"]}ã€‘')\\n    print(f'  å¹´é–“äºˆç®—: {dept[\"å¹´é–“äºˆç®—\"]:,}å†† | ç´¯è¨ˆå®Ÿç¸¾: {dept[\"ç´¯è¨ˆå®Ÿç¸¾\"]:,}å††')\\n    print(f'  åŸ·è¡Œç‡: {dept[\"åŸ·è¡Œç‡\"]}% | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: {dept[\"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹\"]}')\\n    print(f'  æ®‹äºˆç®—: {dept[\"æ®‹äºˆç®—\"]:,}å†† | äºˆç®—é …ç›®: {dept[\"äºˆç®—é …ç›®\"]}')\\n    \\n    # æœˆåˆ¥å®Ÿç¸¾\\n    print(f'  æœˆåˆ¥å®Ÿç¸¾: 7æœˆ {dept[\"7æœˆå®Ÿç¸¾\"]:,}å††({dept[\"7æœˆåŸ·è¡Œç‡\"]}%) | 8æœˆ {dept[\"8æœˆå®Ÿç¸¾\"]:,}å††({dept[\"8æœˆåŸ·è¡Œç‡\"]}%)')\\n\\n# ã‚¢ãƒ©ãƒ¼ãƒˆãƒ»æ³¨æ„äº‹é …\\nprint('\\nğŸš¨ äºˆç®—ã‚¢ãƒ©ãƒ¼ãƒˆ:')\\nover_budget = budget_data[budget_data['åŸ·è¡Œç‡'] > 100]\\nif not over_budget.empty:\\n    for _, dept in over_budget.iterrows():\\n        over_amount = dept['ç´¯è¨ˆå®Ÿç¸¾'] - dept['8æœˆæœ«äºˆå®šäºˆç®—']\\n        print(f'âš ï¸  {dept[\"éƒ¨é–€\"]}: äºˆå®šäºˆç®—ã‚’{over_amount:,}å††è¶…é (åŸ·è¡Œç‡{dept[\"åŸ·è¡Œç‡\"]}%)')\\nelse:\\n    print('âœ… ç¾åœ¨ã€äºˆç®—è¶…éã®éƒ¨é–€ã¯ã‚ã‚Šã¾ã›ã‚“')\\n\\n# æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³\\nprint('\\nğŸ’¡ æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³:')\\nlow_execution = budget_data[budget_data['åŸ·è¡Œç‡'] < 70]\\nhigh_execution = budget_data[budget_data['åŸ·è¡Œç‡'] > 90]\\n\\nif not low_execution.empty:\\n    print('ğŸ“ˆ åŸ·è¡Œä¿ƒé€²ãŒå¿…è¦:')\\n    for _, dept in low_execution.iterrows():\\n        print(f'   - {dept[\"éƒ¨é–€\"]}: åŸ·è¡Œç‡{dept[\"åŸ·è¡Œç‡\"]}% (è¨ˆç”»çš„ãªäºˆç®—åŸ·è¡Œã‚’æ¤œè¨)')\\n\\nif not high_execution.empty:\\n    print('âš ï¸  åŸ·è¡Œç›£è¦–ãŒå¿…è¦:')\\n    for _, dept in high_execution.iterrows():\\n        remaining_months = 4  # 9-12æœˆ\\n        monthly_remaining = dept['æ®‹äºˆç®—'] / remaining_months\\n        print(f'   - {dept[\"éƒ¨é–€\"]}: æ®‹ã‚Š4ãƒ¶æœˆã§æœˆå¹³å‡{monthly_remaining:,.0f}å††ã®åŸ·è¡Œè¨ˆç”»ãŒå¿…è¦')\\n\\n# å¹´æœ«äºˆæ¸¬\\nprint('\\nğŸ”® å¹´æœ«äºˆç®—åŸ·è¡Œäºˆæ¸¬:')\\ncurrent_pace = budget_data['ç´¯è¨ˆå®Ÿç¸¾'] / (8/12)  # å¹´é–“ãƒšãƒ¼ã‚¹\\nbudget_data['å¹´æœ«äºˆæ¸¬åŸ·è¡Œé¡'] = current_pace.round(0)\\nbudget_data['å¹´æœ«äºˆæ¸¬åŸ·è¡Œç‡'] = (budget_data['å¹´æœ«äºˆæ¸¬åŸ·è¡Œé¡'] / budget_data['å¹´é–“äºˆç®—'] * 100).round(1)\\n\\nfor _, dept in budget_data.iterrows():\\n    status = 'äºˆç®—è¶…é' if dept['å¹´æœ«äºˆæ¸¬åŸ·è¡Œç‡'] > 100 else 'é©æ­£' if dept['å¹´æœ«äºˆæ¸¬åŸ·è¡Œç‡'] > 90 else 'æœªé”'\\n    print(f'{dept[\"éƒ¨é–€\"]}: {dept[\"å¹´æœ«äºˆæ¸¬åŸ·è¡Œç‡\"]}% ({status})')\\n\\nprint('\\n=== äºˆç®—ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ å®Œäº† ===')",
        "libraries": "pandasã€numpyã€datetimeã€matplotlib",
        "explanation": "å„éƒ¨é–€ã®äºˆç®—åŸ·è¡ŒçŠ¶æ³ã‚’ç›£è¦–ã—ã€äºˆç®—ã‚ªãƒ¼ãƒãƒ¼ã®è­¦å‘Šã‚„æœªåŸ·è¡Œã®æ”¹å–„ææ¡ˆã‚’è‡ªå‹•ã§è¡Œã„ã¾ã™ã€‚",
        "benefits": ["äºˆç®—ç®¡ç†ã®è‡ªå‹•åŒ–", "äºˆç®—è¶…éã®æ—©æœŸç™ºè¦‹", "éƒ¨é–€åˆ¥åŸ·è¡ŒçŠ¶æ³ã®å¯è¦–åŒ–", "äºˆç®—è¨ˆç”»ã®ç²¾åº¦å‘ä¸Š"],
        "time_required": "2-3æ™‚é–“",
        "difficulty": "ä¸­ç´š",
        "ai_prompt": "Pythonã§äºˆç®—ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚å„éƒ¨é–€ã®äºˆç®—ã¨å®Ÿç¸¾ã‚’æ¯”è¼ƒã—ã€åŸ·è¡Œç‡ã‚„æ®‹äºˆç®—ã‚’è¨ˆç®—ã—ã¦äºˆç®—ã‚ªãƒ¼ãƒãƒ¼ã®è­¦å‘Šã‚’å‡ºã™ã‚³ãƒ¼ãƒ‰ã‚’åˆå¿ƒè€…ã§ã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†ã«è©³ã—ã„ã‚³ãƒ¡ãƒ³ãƒˆä»˜ãã§æ›¸ã„ã¦ãã ã•ã„ã€‚"
    }
]

# æ®‹ã‚Šã®ãƒ„ãƒ¼ãƒ«ã‚’è¿½åŠ ï¼ˆãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã€å–¶æ¥­ãƒ»é¡§å®¢ç®¡ç†ã€äººäº‹ãƒ»åŠ´å‹™ã€ãƒ‡ãƒ¼ã‚¿å‡¦ç†ãƒ»åˆ†æã€ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»æ–‡æ›¸ç®¡ç†ã€è‡ªå‹•åŒ–ãƒ»åŠ¹ç‡åŒ–ã€ãƒªã‚¹ã‚¯ãƒ»å“è³ªç®¡ç†ï¼‰
additional_tools = [
    # ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ï¼ˆ9ãƒ„ãƒ¼ãƒ«ï¼‰
    {
        "id": 41,
        "category": "ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°",
        "number": "41/100",
        "title": "é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³",
        "desc": "é¡§å®¢ã‚’å±æ€§åˆ¥ã«è‡ªå‹•åˆ†é¡",
        "how_to": "é¡§å®¢ãƒ‡ãƒ¼ã‚¿ã‚’RFMåˆ†æã‚„ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°æ‰‹æ³•ã§åˆ†æã—ã€å±æ€§åˆ¥ã«ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåŒ–ã—ã¾ã™ã€‚",
        "sample_code": "import pandas as pd\\nimport numpy as np\\nfrom sklearn.cluster import KMeans\\nfrom sklearn.preprocessing import StandardScaler\\nimport matplotlib.pyplot as plt\\n\\nprint('=== é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ã‚¹ãƒ†ãƒ  ===')\\n\\n# é¡§å®¢ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚µãƒ³ãƒ—ãƒ«ï¼‰\\ncustomer_data = pd.DataFrame({\\n    'é¡§å®¢ID': [f'C{i:03d}' for i in range(1, 101)],\\n    'å¹´é½¢': np.random.normal(40, 15, 100).astype(int),\\n    'å¹´å': np.random.normal(5000000, 1500000, 100).astype(int),\\n    'è³¼å…¥å›æ•°': np.random.poisson(5, 100),\\n    'ç·è³¼å…¥é‡‘é¡': np.random.gamma(2, 50000, 100).astype(int),\\n    'æœ€çµ‚è³¼å…¥æ—¥': pd.date_range(end='2024-07-25', periods=100, freq='-1D')[::-1]\\n})\\n\\n# RFMåˆ†æ\\nbase_date = pd.Timestamp('2024-07-25')\\ncustomer_data['Recency'] = (base_date - customer_data['æœ€çµ‚è³¼å…¥æ—¥']).dt.days\\ncustomer_data['Frequency'] = customer_data['è³¼å…¥å›æ•°']\\ncustomer_data['Monetary'] = customer_data['ç·è³¼å…¥é‡‘é¡']\\n\\n# ãƒ‡ãƒ¼ã‚¿æ¨™æº–åŒ–\\nscaler = StandardScaler()\\nrfm_scaled = scaler.fit_transform(customer_data[['Recency', 'Frequency', 'Monetary']])\\n\\n# K-meansã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°\\nkmeans = KMeans(n_clusters=4, random_state=42)\\ncustomer_data['ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ'] = kmeans.fit_predict(rfm_scaled)\\n\\n# ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåä»˜ã‘\\nsegment_names = {\\n    0: 'ãƒ­ã‚¤ãƒ¤ãƒ«é¡§å®¢',\\n    1: 'å„ªè‰¯é¡§å®¢', \\n    2: 'æ–°è¦é¡§å®¢',\\n    3: 'é›¢åãƒªã‚¹ã‚¯é¡§å®¢'\\n}\\ncustomer_data['ã‚»ã‚°ãƒ¡ãƒ³ãƒˆå'] = customer_data['ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ'].map(segment_names)\\n\\n# ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ¥çµ±è¨ˆ\\nprint('é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ†æçµæœ:')\\nsegment_stats = customer_data.groupby('ã‚»ã‚°ãƒ¡ãƒ³ãƒˆå').agg({\\n    'é¡§å®¢ID': 'count',\\n    'Recency': 'mean',\\n    'Frequency': 'mean', \\n    'Monetary': 'mean',\\n    'å¹´é½¢': 'mean',\\n    'å¹´å': 'mean'\\n}).round(1)\\nsegment_stats.columns = ['é¡§å®¢æ•°', 'å¹³å‡çµŒéæ—¥æ•°', 'å¹³å‡è³¼å…¥å›æ•°', 'å¹³å‡è³¼å…¥é‡‘é¡', 'å¹³å‡å¹´é½¢', 'å¹³å‡å¹´å']\\nprint(segment_stats)\\n\\n# å„ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã®ç‰¹å¾´\\nprint('\\nğŸ“Š ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ¥ç‰¹å¾´:')\\nfor segment, stats in segment_stats.iterrows():\\n    percentage = stats['é¡§å®¢æ•°'] / len(customer_data) * 100\\n    print(f'\\nã€{segment}ã€‘({stats[\"é¡§å®¢æ•°\"]:.0f}äºº, {percentage:.1f}%)')\\n    print(f'  å¹³å‡è³¼å…¥: {stats[\"å¹³å‡è³¼å…¥å›æ•°\"]:.1f}å›, {stats[\"å¹³å‡è³¼å…¥é‡‘é¡\"]:,.0f}å††')\\n    print(f'  æœ€çµ‚è³¼å…¥: {stats[\"å¹³å‡çµŒéæ—¥æ•°\"]:.0f}æ—¥å‰, å¹³å‡å¹´é½¢: {stats[\"å¹³å‡å¹´é½¢\"]:.0f}æ­³')\\n\\n# ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æˆ¦ç•¥ææ¡ˆ\\nprint('\\nğŸ’¡ ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ¥ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æˆ¦ç•¥:')\\nstrategies = {\\n    'ãƒ­ã‚¤ãƒ¤ãƒ«é¡§å®¢': 'ã€ç¶­æŒæˆ¦ç•¥ã€‘ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ã‚µãƒ¼ãƒ“ã‚¹ã€é™å®šã‚ªãƒ•ã‚¡ãƒ¼ã€VIPå¾…é‡',\\n    'å„ªè‰¯é¡§å®¢': 'ã€è‚²æˆæˆ¦ç•¥ã€‘ã‚¢ãƒƒãƒ—ã‚»ãƒ«ã€ã‚¯ãƒ­ã‚¹ã‚»ãƒ«ã€ãƒã‚¤ãƒ³ãƒˆç‰¹å…¸',\\n    'æ–°è¦é¡§å®¢': 'ã€ç²å¾—æˆ¦ç•¥ã€‘ã‚¦ã‚§ãƒ«ã‚«ãƒ ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã€ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã€åˆå›å‰²å¼•',\\n    'é›¢åãƒªã‚¹ã‚¯é¡§å®¢': 'ã€å¾©æ´»æˆ¦ç•¥ã€‘ãƒªãƒ†ãƒ³ã‚·ãƒ§ãƒ³æ–½ç­–ã€ç‰¹åˆ¥å‰²å¼•ã€ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚º'\\n}\\n\\nfor segment, strategy in strategies.items():\\n    count = len(customer_data[customer_data['ã‚»ã‚°ãƒ¡ãƒ³ãƒˆå'] == segment])\\n    if count > 0:\\n        print(f'{segment}: {strategy}')\\n\\nprint('\\n=== é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº† ===')",
        "libraries": "pandasã€numpyã€scikit-learnã€matplotlib",
        "explanation": "é¡§å®¢ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°åˆ†æã—ã€åŠ¹æœçš„ãªãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æˆ¦ç•¥ã‚’ç«‹æ¡ˆã™ã‚‹ãŸã‚ã®ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåŒ–ã‚’è¡Œã„ã¾ã™ã€‚",
        "benefits": ["ã‚¿ãƒ¼ã‚²ãƒ†ã‚£ãƒ³ã‚°ç²¾åº¦å‘ä¸Š", "ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°åŠ¹ç‡åŒ–", "é¡§å®¢ç†è§£æ·±åŒ–", "å€‹åˆ¥æˆ¦ç•¥ç«‹æ¡ˆ"],
        "time_required": "3-4æ™‚é–“",
        "difficulty": "ä¸Šç´š",
        "ai_prompt": "Python ã§é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚RFMåˆ†æã¨K-meansã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã‚’ä½¿ã£ã¦é¡§å®¢ã‚’åˆ†é¡ã—ã€å„ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã®ç‰¹å¾´ã¨ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æˆ¦ç•¥ã‚’ææ¡ˆã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’åˆå¿ƒè€…ã§ã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†ã«è©³ã—ã„ã‚³ãƒ¡ãƒ³ãƒˆä»˜ãã§æ›¸ã„ã¦ãã ã•ã„ã€‚"
    }
]

# additional_toolsã‚’EXTRA_TOOLSã«è¿½åŠ 
EXTRA_TOOLS.extend(additional_tools)

# æ®‹ã‚Šã®59ãƒ„ãƒ¼ãƒ«ã‚‚åŒæ§˜ã«è©³ç´°ã«å®šç¾©...ï¼ˆã‚¹ãƒšãƒ¼ã‚¹ã®é–¢ä¿‚ã§ä¸€éƒ¨ã®ã¿è¡¨ç¤ºï¼‰